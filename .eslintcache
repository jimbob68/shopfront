[{"/Users/jamesfraser/codeclanners5/shopfront/src/index.js":"1","/Users/jamesfraser/codeclanners5/shopfront/src/reportWebVitals.js":"2","/Users/jamesfraser/codeclanners5/shopfront/src/App.js":"3","/Users/jamesfraser/codeclanners5/shopfront/src/screens/Home.js":"4","/Users/jamesfraser/codeclanners5/shopfront/src/screens/Basket.js":"5","/Users/jamesfraser/codeclanners5/shopfront/src/screens/AboutUs.js":"6","/Users/jamesfraser/codeclanners5/shopfront/src/components/Footer.js":"7","/Users/jamesfraser/codeclanners5/shopfront/src/components/NavBar.js":"8","/Users/jamesfraser/codeclanners5/shopfront/src/screens/Products.js":"9","/Users/jamesfraser/codeclanners5/shopfront/src/components/BasketItemInfo.js":"10","/Users/jamesfraser/codeclanners5/shopfront/src/firebaseConfig.js":"11","/Users/jamesfraser/codeclanners5/shopfront/src/components/ProductInfo.js":"12"},{"size":500,"mtime":1607339508513,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1607339508515,"results":"15","hashOfConfig":"14"},{"size":1044,"mtime":1613130775426,"results":"16","hashOfConfig":"14"},{"size":115,"mtime":1607340797579,"results":"17","hashOfConfig":"14"},{"size":2227,"mtime":1608290924527,"results":"18","hashOfConfig":"14"},{"size":128,"mtime":1607341831351,"results":"19","hashOfConfig":"14"},{"size":176,"mtime":1613130060720,"results":"20","hashOfConfig":"14"},{"size":1620,"mtime":1613128335027,"results":"21","hashOfConfig":"14"},{"size":3179,"mtime":1608045151334,"results":"22","hashOfConfig":"14"},{"size":1846,"mtime":1608119297777,"results":"23","hashOfConfig":"14"},{"size":594,"mtime":1607351929641,"results":"24","hashOfConfig":"14"},{"size":2506,"mtime":1608116261654,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1wwx968",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"28"},"/Users/jamesfraser/codeclanners5/shopfront/src/index.js",[],["55","56"],"/Users/jamesfraser/codeclanners5/shopfront/src/reportWebVitals.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/App.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/screens/Home.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/screens/Basket.js",["57","58","59","60"],"import React from 'react';\nimport './Basket.css';\nimport BasketItemInfo from '../components/BasketItemInfo.js';\nimport firebase from 'firebase/app';\nimport db from '../firebaseConfig.js';\n\nconst Basket = ({ basketItems, setBasketItems }) => {\n\tconst displayBasketItems = () => {\n\t\t// const basket = basketItems.map((item, index) => {\n\t\t// \treturn <BasketItemInfo item={item} basketItems={basketItems} setBasketItems={setBasketItems} key={index} />;\n\t\t// });\n\t\t// return basket;\n\t\tconst basket = Object.keys(basketItems).map((key, index) => {\n\t\t\treturn (\n\t\t\t\t<BasketItemInfo\n\t\t\t\t\titem={basketItems[key]}\n\t\t\t\t\tbasketItems={basketItems}\n\t\t\t\t\tsetBasketItems={setBasketItems}\n\t\t\t\t\tkey={index}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn basket;\n\t};\n\n\tconst getNumberOfItemsInBasket = () => {\n\t\tlet basketSize = 0;\n\t\tfor (const [ key, value ] of Object.entries(basketItems)) {\n\t\t\tbasketSize += value.amount;\n\t\t}\n\t\treturn basketSize;\n\t};\n\n\tconst basketTotal = () => {\n\t\t// let total = 0;\n\t\t// basketItems.forEach((item) => {\n\t\t// \ttotal += item.price;\n\t\t// });\n\t\t// return total.toFixed(2);\n\t\tlet total = 0;\n\t\tfor (const [ key, value ] of Object.entries(basketItems)) {\n\t\t\ttotal += value.product.price * value.amount;\n\t\t}\n\t\treturn total.toFixed(2);\n\t};\n\n\tconst handleBuy = async () => {\n\t\tconst batch = db.batch();\n\t\tlet validBasket = true;\n\t\tfor (const [ key, value ] of Object.entries(basketItems)) {\n\t\t\tconst newStock = value.product['stock-level'] - value.amount;\n\t\t\tif (newStock < 0) {\n\t\t\t\tvalidBasket = false;\n\t\t\t\talert(\n\t\t\t\t\t'Sorry there is only ' +\n\t\t\t\t\t\tvalue.product['stock-level'] +\n\t\t\t\t\t\t' of ' +\n\t\t\t\t\t\tvalue.product.name +\n\t\t\t\t\t\t' in stock. Please edit your basket and try again.'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst productRef = db.collection('products').doc(value.product.id);\n\t\t\t\tbatch.update(productRef, { 'stock-level': newStock });\n\t\t\t}\n\t\t}\n\t\tif (validBasket) {\n\t\t\tawait batch.commit();\n\t\t\tsetBasketItems({});\n\t\t\talert('Purchase successful Thank You for your custom!');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Basket ({getNumberOfItemsInBasket()})</h1>\n\t\t\t<h4>Total: £{basketTotal()}</h4>\n\t\t\t{displayBasketItems()}\n\t\t\t<h4>Total: £{basketTotal()}</h4>\n\t\t\t<button onClick={() => handleBuy()}>Buy</button>\n\t\t</div>\n\t);\n};\nexport default Basket;\n","/Users/jamesfraser/codeclanners5/shopfront/src/screens/AboutUs.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/components/Footer.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/components/NavBar.js",["61"],"/Users/jamesfraser/codeclanners5/shopfront/src/screens/Products.js",["62","63"],"import React, { useEffect, useState } from 'react';\nimport './Products.css';\nimport ProductInfo from '../components/ProductInfo.js';\nimport firebase from 'firebase/app';\nimport 'firebase/storage';\nimport db from '../firebaseConfig.js';\n\nconst Products = ({ setBasketItems, basketItems }) => {\n\tconst [ products, setProducts ] = useState([]);\n\tconst [ productTypes, setProductTypes ] = useState([]);\n\tconst [ productsToDisplay, setProductsToDisplay ] = useState([]);\n\tconst [ pageNumber, setPageNumber ] = useState(1);\n\n\tuseEffect(() => {\n\t\tretrieveProducts();\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tgetProductTypes();\n\t\t},\n\t\t[ products ]\n\t);\n\n\tconst retrieveProducts = async () => {\n\t\tconst productsRef = db.collection('products');\n\t\tconst productsData = await productsRef.get();\n\t\tsetProducts(productsData.docs.map((doc) => doc.data()));\n\t\tsetProductsToDisplay(productsData.docs.map((doc) => doc.data()));\n\t};\n\n\tconst displayProductsInfo = () => {\n\t\t// let startIndex = pageNumber * 10 - 10;\n\t\t// const shortProductList = productsToDisplay.slice(startIndex, startIndex + 10);\n\n\t\tlet startIndex = pageNumber * 6 - 6;\n\t\tconst shortProductList = productsToDisplay.slice(startIndex, startIndex + 6);\n\n\t\treturn shortProductList.map((product) => (\n\t\t\t<ProductInfo\n\t\t\t\tsetBasketItems={setBasketItems}\n\t\t\t\tbasketItems={basketItems}\n\t\t\t\tproduct={product}\n\t\t\t\tkey={product.image}\n\t\t\t/>\n\t\t));\n\t};\n\n\tconst getProductTypes = () => {\n\t\tconst retrievedProductTypes = [];\n\t\tconst sortedProducts = products.map((product) => product.type).sort();\n\t\tsortedProducts.forEach((product, index, array) => {\n\t\t\tif (array[index] !== array[index + 1]) {\n\t\t\t\tretrievedProductTypes.push(product);\n\t\t\t}\n\t\t});\n\t\tsetProductTypes(retrievedProductTypes);\n\t};\n\n\tconst filterProductsByType = (type) => {\n\t\tsetPageNumber(1);\n\t\tif (type === 'All Products') {\n\t\t\tsetProductsToDisplay(products);\n\t\t} else {\n\t\t\tconst filteredProducts = products.filter((product) => product.type === type);\n\t\t\tsetProductsToDisplay(filteredProducts);\n\t\t}\n\t};\n\n\tconst displayTypesSelectBox = () => {\n\t\tconst selectOptions = productTypes.map((productType, index) => (\n\t\t\t<option key={index} value={productType}>\n\t\t\t\t{productType}\n\t\t\t</option>\n\t\t));\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h6>Filter by Category</h6>\n\t\t\t\t<select onChange={(event) => filterProductsByType(event.target.value)}>\n\t\t\t\t\t<option defaultValue disabled>\n\t\t\t\t\t\tFilter by Category\n\t\t\t\t\t</option>\n\t\t\t\t\t<option value=\"All Products\">All Products</option>\n\t\t\t\t\t{selectOptions}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Products</h1>\n\t\t\t{displayTypesSelectBox()}\n\t\t\t<div className=\"products-wrapper\">\n\t\t\t\t{/* {products && displayProductsInfo()} */}\n\t\t\t\t{displayProductsInfo()}\n\t\t\t</div>\n\t\t\t<div className=\"page-number-button-container\">\n\t\t\t\t{pageNumber > 1 && (\n\t\t\t\t\t<button className=\"page-button\" onClick={() => setPageNumber(pageNumber - 1)}>\n\t\t\t\t\t\tPrevious Page\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{pageNumber} of {Math.ceil(productsToDisplay.length / 6)}\n\t\t\t\t{productsToDisplay.length / 6 > pageNumber && (\n\t\t\t\t\t<button className=\"page-button\" onClick={() => setPageNumber(pageNumber + 1)}>\n\t\t\t\t\t\tNext Page\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default Products;\n","/Users/jamesfraser/codeclanners5/shopfront/src/components/BasketItemInfo.js",["64"],"import React from 'react';\nimport './BasketItemInfo.css';\n\nconst BasketItemInfo = ({ item, basketItems, setBasketItems }) => {\n\tconst handleRemoveItem = () => {\n\t\t// const basket = basketItems.concat();\n\t\t// const index = basket.indexOf(item);\n\t\t// basket.splice(index, 1);\n\t\t// setBasketItems(basket);\n\t\tconst basket = { ...basketItems };\n\t\tdelete basket[item.product.image];\n\t\tsetBasketItems(basket);\n\t};\n\n\tconst showNumberOfItems = () => {\n\t\tlet itemAmount = '';\n\t\tif (item.amount > 1) {\n\t\t\titemAmount = 'x ' + item.amount + ' = £' + (item.amount * item.product.price).toFixed(2);\n\t\t}\n\t\treturn itemAmount;\n\t};\n\n\tconst handleRemoveOneItem = () => {\n\t\tconst basket = { ...basketItems };\n\t\tif (basket[item.product.image]['amount'] === 1) {\n\t\t\tdelete basket[item.product.image];\n\t\t} else {\n\t\t\tbasket[item.product.image]['amount'] -= 1;\n\t\t}\n\t\tsetBasketItems(basket);\n\t};\n\n\tconst handleAddOneItem = () => {\n\t\tconst basket = { ...basketItems };\n\t\tbasket[item.product.image]['amount'] += 1;\n\t\tsetBasketItems(basket);\n\t};\n\n\treturn (\n\t\t<div className=\"basket-item-container\">\n\t\t\t<div className=\"basket-detail-wrapper\">\n\t\t\t\t<img src={item.product.imageSrc} alt={item.product.name} />\n\t\t\t\t<div>\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{item.product.name} ( x {item.amount})\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</h4>\n\t\t\t\t\t{/* <p>\n\t\t\t\t\t\t£{item.product.price} {showNumberOfItems()}\n\t\t\t\t\t</p> */}\n\t\t\t\t\t<p>Product Price: £{item.product.price}</p>\n\t\t\t\t\t<p>Total Items Price: £{(item.product.price * item.amount).toFixed(2)}</p>\n\n\t\t\t\t\t<button className=\"basket-button\" onClick={handleAddOneItem}>\n\t\t\t\t\t\tAdd 1\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"basket-button\" onClick={handleRemoveOneItem}>\n\t\t\t\t\t\tRemove 1\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"basket-button\" onClick={handleRemoveItem}>\n\t\t\t\t\t\tRemove All\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default BasketItemInfo;\n","/Users/jamesfraser/codeclanners5/shopfront/src/firebaseConfig.js",[],"/Users/jamesfraser/codeclanners5/shopfront/src/components/ProductInfo.js",["65","66","67"],"import React, { useEffect, useState } from 'react';\nimport Products from '../screens/Products';\nimport './ProductInfo.css';\nimport firebase from 'firebase/app';\nimport 'firebase/storage';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\n\nconst ProductInfo = ({ product, basketItems, setBasketItems }) => {\n\tconst [ imageSrc, setImageSrc ] = useState('');\n\tconst [ modalIsOpen, setModalIsOpen ] = useState(false);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tretrieveImage();\n\t\t},\n\t\t[ product ]\n\t);\n\n\tconst retrieveImage = () => {\n\t\tconst imageRef = firebase.storage().ref(product.image);\n\t\timageRef.getDownloadURL().then((imageURL) => {\n\t\t\tproduct.imageSrc = imageURL;\n\t\t\tsetImageSrc(imageURL);\n\t\t});\n\t};\n\tconst handleAddToBasket = () => {\n\t\t// const basket = basketItems.concat();\n\t\t// basket.push(product);\n\t\t// setBasketItems(basket);\n\n\t\t// Using product.image as a unique identifier\n\t\tconst basket = { ...basketItems };\n\t\tif (Object.keys(basket).includes(product.image)) {\n\t\t\tbasket[product.image]['amount'] += 1;\n\t\t} else {\n\t\t\tbasket[product.image] = { product: product, amount: 1 };\n\t\t}\n\t\tsetBasketItems(basket);\n\t};\n\n\treturn (\n\t\t<div className=\"product-container\">\n\t\t\t<div>\n\t\t\t\t<img src={imageSrc} alt=\"product\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\t<b>{product.name}</b>\n\t\t\t\t</p>\n\n\t\t\t\t<p>£{product.price}</p>\n\t\t\t\t<button className=\"product-more-info-button\" onClick={() => setModalIsOpen(true)}>\n\t\t\t\t\tMore Info\n\t\t\t\t</button>\n\t\t\t\t<button className=\"add-to-basket-button\" onClick={handleAddToBasket}>\n\t\t\t\t\tAdd to Basket\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tclassName=\"modal-container\"\n\t\t\t\tappElement={document.getElementById('root')}\n\t\t\t\tisOpen={modalIsOpen}\n\t\t\t\tstyle={{\n\t\t\t\t\toverlay: {\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.7)'\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<button className=\"modal-close-button\" onClick={() => setModalIsOpen(false)}>\n\t\t\t\t\tClose\n\t\t\t\t</button>\n\t\t\t\t<div className=\"modal-top-container\">\n\t\t\t\t\t<img src={imageSrc} alt=\"product\" />\n\t\t\t\t\t<div className=\"modal-top-container-detail\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>Name:</b> {product.name}\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>Price:</b> £{product.price}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>Manufacturer:</b> {product.manufacturer}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>Stock:</b> {product['stock-level']}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p>\n\t\t\t\t\t<b>Description:</b> {product.description}\n\t\t\t\t</p>\n\t\t\t\t<button className=\"modal-add-to-basket-button\" onClick={handleAddToBasket}>\n\t\t\t\t\tAdd to Basket\n\t\t\t\t</button>\n\t\t\t</Modal>\n\t\t</div>\n\t);\n};\n\nexport default ProductInfo;\n",{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":4,"column":8,"nodeType":"74","messageId":"75","endLine":4,"endColumn":16},{"ruleId":"72","severity":1,"message":"76","line":28,"column":16,"nodeType":"74","messageId":"75","endLine":28,"endColumn":19},{"ruleId":"72","severity":1,"message":"76","line":41,"column":16,"nodeType":"74","messageId":"75","endLine":41,"endColumn":19},{"ruleId":"72","severity":1,"message":"76","line":50,"column":16,"nodeType":"74","messageId":"75","endLine":50,"endColumn":19},{"ruleId":"72","severity":1,"message":"76","line":9,"column":16,"nodeType":"74","messageId":"75","endLine":9,"endColumn":19},{"ruleId":"72","severity":1,"message":"73","line":4,"column":8,"nodeType":"74","messageId":"75","endLine":4,"endColumn":16},{"ruleId":"77","severity":1,"message":"78","line":22,"column":3,"nodeType":"79","endLine":22,"endColumn":15,"suggestions":"80"},{"ruleId":"72","severity":1,"message":"81","line":15,"column":8,"nodeType":"74","messageId":"75","endLine":15,"endColumn":25},{"ruleId":"72","severity":1,"message":"82","line":2,"column":8,"nodeType":"74","messageId":"75","endLine":2,"endColumn":16},{"ruleId":"72","severity":1,"message":"83","line":6,"column":8,"nodeType":"74","messageId":"75","endLine":6,"endColumn":16},{"ruleId":"77","severity":1,"message":"84","line":17,"column":3,"nodeType":"79","endLine":17,"endColumn":14,"suggestions":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'key' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProductTypes'. Either include it or remove the dependency array.","ArrayExpression",["88"],"'showNumberOfItems' is assigned a value but never used.","'Products' is defined but never used.","'ReactDOM' is defined but never used.","React Hook useEffect has a missing dependency: 'retrieveImage'. Either include it or remove the dependency array.",["89"],"no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},{"desc":"92","fix":"93"},"Update the dependencies array to be: [getProductTypes, products]",{"range":"94","text":"95"},"Update the dependencies array to be: [product, retrieveImage]",{"range":"96","text":"97"},[621,633],"[getProductTypes, products]",[481,492],"[product, retrieveImage]"]